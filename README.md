# GLUE-urbanQuant

Data and R code for the manuscript "Comparing approaches to quantify urbanization on a multicontinental scale"
================
David Murray-Stoker

Updated: 3 March 2025

[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.11038230.svg)](https://doi.org/10.5281/zenodo.11038230)

Data, metadata, and all R code for reproducing data extraction and analyses for the manuscript:

Murray-Stoker, D., J. S. Santangelo, M. Szulkin, and M. T. J. Johnson. 2025. Comparing approaches to quantify urbanization on a multicontinental scale. Urban Ecosystems 28: 82.



## Abstract

Urbanization is an increasingly prevalent driver of environmental, ecological, and evolutionary change in both terrestrial and aquatic systems, and it is important that our sampling designs accurately capture this urban environmental change. Common approaches to sampling urban environments include: urban-nonurban transects, which sample along urbanization gradients; random points, which sample locations at random within an area of interest; and systematic points, which sample locations based on a regularly-spaced grid from a predetermined starting point within the area of interest. Presently, we lack a comparative analysis of the efficacy of these different sampling designs in capturing variation in urban environments. Here, we compare the environmental variation captured by transect- and point-based sampling designs in 136 cities across six continents. We quantified and compared a common set of environmental variables for each sampling design, with variables capturing landcover, climate, and socioeconomic facets of urban environments. Mean landcover and socioeconomic metrics consistently differed among sampling designs, in contrast to climate variables that primarily varied among cities. Additionally, changes in environmental variables with distance from the city centre depended on the sampling design, with this distance-by-sampling design interaction present in 27%–51% of cities, depending on the environmental variable. This implies that the rate of environmental change along urban-nonurban gradients frequently depends on the sampling design used. Our results show that sampling design can dictate how the urban environment is characterized, with sampling design as important − or more important − as the selected environmental variable. Moreover, our comparative analysis of the four commonly used methods across a global sample of 136 cities shows that urban-nonurban transects will often be the best method. We further developed R code so researchers can implement these methods as they develop and validate sampling designs in novel or unstudied urban environments.



## Contents

The [R Project](https://github.com/dmurraystoker/GLUE-urbanQuant/blob/main/GLUE-urbanQuant.Rproj) provides a local relative directory for all data and R code.


### Data

All data and R objects are provided in the [data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data) folder.

Data are organized into subfolders, which are briefly described below:

* [analysis_data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/analysis_data)
  - Data used for or generated by the data analysis workflow
* [Aridity_Index_data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/Aridity_Index_data)
  - Estimated aridity index data. Separate folders for each sampling design, with a .csv file for each city
* [data_filtered]()
  - Basic site identifiers for each of the GLUE transects
* [distance_data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/data_filtered)
  - Calculated distance from the city center for each site. Separate folders for each sampling design, with a .csv file for each city
* [filtered_random_points](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/filtered_random_points)
  - Site identifiers for all sites generated by the random points sampling design. Sites over bodies of water were filtered out.
* [filtered_random_transects](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/filtered_random_transects)
  - Site identifiers for all sites generated by the random transect sampling design. Sites over bodies of water were filtered out.
* [filtered_systematic_points](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/filtered_systematic_points)
  - Site identifiers for all sites generated by the systematic points sampling design. Sites over bodies of water were filtered out.
* [GDP_SSP_data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/GDP_SSP_data)
  - Estimates of GDP 2005 and under Shared Socieconomic Pathways. Separate folders for each sampling design, with a .csv file for each city
* [HII_data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/HII_data)
  - Estimates of the Human Influence Index. Separate folders for each sampling design, with a .csv file for each city
* [ISC_data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/ISC_data)
  - Estimates of impervious surface cover. Separate folders for each sampling design, with a .csv file for each city
* [NDVI_data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/NDVI_data)
  - Estimates of normalized difference vegetation index. Separate folders for each sampling design, with a .csv file for each city
* [sampled_random_points](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/sampled_random_points)
  - Site identifiers for all sites generated by the random points sampling design. Sites over bodies of water were *not* filtered out.
* [sampled_random_transects](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/sampled_random_transects)
  - Site identifiers for all sites generated by the random transect sampling design. Sites over bodies of water were *not* filtered out.
* [sampled_systematic_points](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/sampled_random_points)
  - Site identifiers for all sites generated by the systematic points sampling design. Sites over bodies of water were *not* filtered out.
* [WorldClim_data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data/WorldClim_data)
  - Estimates of climate variables (i.e., temperature and precipitation) from WorldClim. Separate folders for each sampling design, with a .csv file for each city

Detailed metadata is located within each folder in the [data](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data) directory.


### Rasters

An empty directory for raster files is provided in [raster_files](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/raster_files). Due to the large size of the raster files, users will need to download the associated raster files onto their local disk. Links to download rasters are provided [here](https://github.com/dmurraystoker/GLUE-urbanQuant/blob/main/raster_files/0_raster_file_links.md).


### Data Analysis

R Markdown code for all data extraction and analyses are provided in the [data_analysis](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data_analysis) folder.


## Worflow

Here is a basic diagram of the worflow to (1) generate points and transects and (2) calculate environmental variables.

![](https://github.com/dmurraystoker/GLUE-urbanQuant/blob/main/urbanQuant_workflow.jpg)

Run the [1-generate_points_transects.Rmd](https://github.com/dmurraystoker/GLUE-urbanQuant/blob/main/data_analysis/1-points_transects/1-generate_points_transects.Rmd) code, then remove sites located over bodies of water by running the [2-filter_coordinates.Rmd](https://github.com/dmurraystoker/GLUE-urbanQuant/blob/main/data_analysis/1-points_transects/2-filter_coordinates.Rmd) code. Finally, calculate the final sample sizes by running the [3-sample_size_calculations.Rmd](https://github.com/dmurraystoker/GLUE-urbanQuant/blob/main/data_analysis/1-points_transects/3-sample_size_calculations.Rmd) code. This will determine the final number of sites after filtering, and also calculate approximate adjusted sample sizes to have similar sample sizes across sampling designs (e.g., [adjusted_sample_sizes.csv](https://github.com/dmurraystoker/GLUE-urbanQuant/blob/main/data/adjusted_sample_sizes.csv)).

Once the user has generated adequate points and transects with appropriate sample sizes, they can proceed to calculate environmental variables for each site. Code to calculated the environmental variables is available in the [2-environmental_variables](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data_analysis/2-environmental_variables) folder. All environmental variables except for distance and NDVI require the user to have downloaded the necessary raster files. Links to download the raster files are provided [here](https://github.com/dmurraystoker/GLUE-urbanQuant/blob/main/raster_files/0_raster_file_links.md).


## Using this repository

To use the data and R code for this project:

1. `git clone` this repository or download it as a zip folder
2. Open `R Studio`, go to `file > Open project`, and open the `GLUE-urbanQuant.Rproj`
R Project associated with this repository.
3. The data extraction and analyses can be performed by running through the code in [data_analysis](https://github.com/dmurraystoker/GLUE-urbanQuant/tree/main/data_analysis).
